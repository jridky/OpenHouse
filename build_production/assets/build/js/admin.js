!function(e){var a={};function t(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var i in e)t.d(n,i,function(a){return e[a]}.bind(null,i));return n},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="/",t(t.s=1)}({1:function(e,a,t){e.exports=t("NhRA")},NhRA:function(e,a){$((function(){firebase.auth().onAuthStateChanged((function(e){var a;e?($(".user-photo").attr("src",e.photoURL),$(".user-name").text(e.displayName),$(".user-email").text(e.email),$("ul.tabs").tabs(),$(".button-collapse").sideNav(),$(".modal").modal(),$("#firebaseui-auth-container").hide(),firebase.database().ref().child("checkAccess").once("value",(function(e){$("#container").removeClass("hide")}),(function(e){$("#container").html("<div id='modal-permission' class='modal'><div class='modal-content'><h4>Permission Denied</h4><p>Sorry you don't have premission to access this page</p></div><div class='modal-footer'><a href='#!' class=' modal-action modal-close waves-effect waves-green btn-flat'>Ok!</a></div></div>"),$("#container").removeClass("hide"),$(".modal").modal(),$("#modal-permission").modal("open")}))):($("#firebaseui-auth-container").show(),$("#container").addClass("hide"),a={signInSuccessUrl:"admin.html",signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID]},new firebaseui.auth.AuthUI(firebase.auth()).start("#firebaseui-auth-container",a))}),(function(e){console.log(e)})),$("#signout").click((function(e){e.preventDefault(),firebase.auth().signOut().then((function(){}),(function(e){console.error("Sign Out Error",e)}))}));i({model:"track",fieldId:"key",fields:[new n(t.TEXT,"name"),new n(t.COLOR,"color")],data:{},load:[],databaseRef:firebase.database().ref().child("tracks"),databaseOrder:"name"}),i({model:"room",fieldId:"key",fields:[new n(t.TEXT,"name"),new n(t.RADIO,"type",{values:[{value:"talk",description:"Talk"},{value:"contest",description:"Contest"},{value:"team",description:"Team presentation"}]})],data:{},load:[],databaseRef:firebase.database().ref().child("rooms"),databaseOrder:"name"}),i({model:"speaker",fieldId:"key",fields:[new n(t.IMAGE,"avatar",{size:50}),new n(t.RADIO,"align",{values:[{value:"top",description:"Align avatar to TOP"},{value:"center",description:"Align avatar to CENTER"},{value:"bottom",description:"Align avatar to BOTTOM"}]}),new n(t.TEXT,"name"),new n(t.TEXT,"email"),new n(t.TEXTAREA,"bio",{rows:10,truncate:70})],data:{},load:[],databaseRef:firebase.database().ref().child("speakers"),databaseOrder:"name",storageRef:firebase.storage().ref("speakers")}),i({model:"session",fieldId:"key",fields:[new n(t.TEXT,"title"),new n(t.RADIO,"type",{values:[{value:"talk",description:"Talk"},{value:"contest",description:"Contest"},{value:"team",description:"Team presentation"}]}),new n(t.SELECT,"track",{values:{},multiple:"",replace:!1}),new n(t.RADIO,"difficulty",{values:[{value:"All",description:"All audiences"},{value:"Beginner",description:"Beginner"},{value:"Advanced",description:"Advanced"}]}),new n(t.SELECT,"room",{values:{},multiple:"",replace:!0}),new n(t.SELECT,"speakers",{values:{},multiple:"multiple",replace:!0}),new n(t.TEXT,"start"),new n(t.TEXT,"duration"),new n(t.TEXTAREA,"description",{rows:10,truncate:40})],data:{},load:[{ref:firebase.database().ref().child("tracks"),order:"name",store:"track",what:{value:"name",description:["name"]}},{ref:firebase.database().ref().child("rooms"),order:"name",store:"room",what:{value:"id",description:["name","type"]}},{ref:firebase.database().ref().child("speakers"),order:"name",store:"speakers",what:{value:"id",description:["name"]}}],databaseRef:firebase.database().ref().child("sessions"),databaseOrder:"start",storageRef:firebase.storage().ref("sessions")});var e=$("ul.tabs li.tab:first a").attr("href").substring(1);$("ul.tabs").tabs("select_tab",e)})),String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var t={};Object.defineProperty(t,"IMAGE",{value:"image"}),Object.defineProperty(t,"IMAGE_URL",{value:"image_url"}),Object.defineProperty(t,"TEXT",{value:"text"}),Object.defineProperty(t,"TEXTAREA",{value:"textarea"}),Object.defineProperty(t,"COLOR",{value:"hex"}),Object.defineProperty(t,"RADIO",{value:"radio"}),Object.defineProperty(t,"SELECT",{value:"select"});var n=function(e,a,t){this.type=e,this.name=a,this.options=t};function i(e){var a;function n(a){return a?e.model+"-"+a:e.model}function i(a){var t={};return $.each(e.fields,(function(e,n){t[n.name]=a.val()[n.name]})),t}function o(e){var a="<option value='0' disabled selected>Choose your option</option>";return $.each(e,(function(e,t){a+="<option value='"+t.value+"'>"+t.description+"</option>"})),a}function s(a,i){$("#"+n("form")).find("#"+n(e.fieldId)).val(a),e.fields.forEach((function(a){if(a.type!=t.IMAGE){var o=$("#"+n("form")).find("#"+n(a.name)),s=i&&i[a.name]?i[a.name]:"";o.val(s),a.type==t.TEXTAREA&&o.trigger("autoresize"),a.type==t.RADIO&&i&&i[a.name]&&($("#radio-"+i[a.name]+"-"+e.model).attr("checked",!0),$("#radio-"+i[a.name]+"-"+e.model).prop("checked",!0)),a.type==t.SELECT&&$("select").material_select()}else $("#"+n("form")).find("#"+n(a.name)).val("")})),Materialize.updateTextFields(),$("#"+n("modal-form")).modal({ready:function(e,a){$("#"+n("form")+" :input:enabled:visible:first").focus()}}),$("#"+n("modal-form")).modal("open")}e.load.forEach((function(a){a.ref.orderByChild(a.order).on("value",(function(t){var i=t.val(),s={};$.each(i,(function(e,t){s[e]={},$.each(a.what,(function(a,n){"value"==a?s[e].value=t[n]:$.each(n,(function(a,n){s[e].description?s[e].description+=" - "+t[n]:s[e].description=t[n]}))}))})),e.fields.forEach((function(e){if(e.name==a.store){e.options.values=s;var t=o(e.options.values);$("#"+n(e.name)).html(t),$("select").material_select()}}))}))})),$("ul.tabs").append("<li class='tab'><a href='#"+n("tab")+"'>"+e.model+"</li>"),$("#container").append((a="<div id='"+n("tab")+"'><div id='"+n()+"' class='page-content'><table id='"+n("table")+"' class='model-table bordered highlight responsive-table'><thead><tr><th class='controls'></th><th style='display: none'>ID</th>",e.fields.forEach((function(e){a+="<th data-field='"+e.name+"'>"+e.name+"</th>"})),a+="</tr></thead><tbody></tbody></table><a href='#' id='"+n("item-add")+"' class='btn-floating btn-large waves-effect waves-light red'><i class='material-icons'>add</i></a></div></div>")),$("#container").append(function(){var a="<div id='"+n("modal-form")+"' class='modal modal-fixed-footer'><div class='modal-content'><h4>"+e.model.capitalizeFirstLetter()+"</h4><form id='"+n("form")+"'><fieldset><input type='hidden' id='"+n(e.fieldId)+"'/>";return e.fields.forEach((function(i){switch(i.type){case t.IMAGE:a+="<span class='form-file'><label for='"+n(i.name)+"'>"+i.name+":</label><input type='file' id='"+n(i.name)+"' placeholder='"+i.name+"' class='text ui-widget-content ui-corner-all'/></span>";break;case t.TEXTAREA:a+="<div class='input-field'><label for='"+n(i.name)+"'>"+i.name+":</label><textarea id='"+n(i.name)+"' class='materialize-textarea' rows='"+i.options.rows+"'></textarea></div>";break;case t.SELECT:a+="<div class='input-field'><select id='"+n(i.name)+"' "+i.options.multiple+">"+o(i.options.values)+"</select><label>"+i.name+":</label></div>";break;case t.RADIO:a+="<div class='input-field' style='margin-bottom: 25px'><label>"+i.name+":</label>",i.options.values.forEach((function(t){a+="<p style='margin-left: 2em; margin-top: 2em;'><input type='radio' class='with-gap' name='group-"+i.name+"-"+e.model+"' id='radio-"+t.value+"-"+e.model+"'><label for='radio-"+t.value+"-"+e.model+"'>"+t.description+"</label></p>"})),a+="</div>";break;case t.COLOR:a+="<div class='input-field'><label for='"+n(i.name)+"' style='top: -1.5rem'>"+i.name+":</label><input type='color' id='"+n(i.name)+"' /></div>";break;default:a+="<div class='input-field'><label for='"+n(i.name)+"'>"+i.name+":</label><input type='text' id='"+n(i.name)+"' /></div>"}})),a+="</fieldset></form></div><div class='modal-footer'><a href='#!' class='modal-action modal-close waves-effect waves-green btn-flat'>Cancel</a><a href='#!' id='"+n("item-save")+"' class='modal-action waves-effect waves-green btn-flat'>Save</a></div></div>"}()),$("select").material_select(),$("body").on("click","#"+n("item-add"),(function(e){e.preventDefault(),s()})).on("click","."+n("item-edit"),(function(a){a.preventDefault();var t=$(this).closest("tr").find("."+e.fieldId).text(),n=e.data[t];n[e.fieldId]=t,s(t,n)})).on("click","."+n("item-remove"),(function(a){a.preventDefault();var t,n=$(this).closest("tr").find("."+e.fieldId).text();t=n,e.databaseRef.child(t).remove((function(e){e&&alert("Data could not be removed."+e)}))})).on("click","#"+n("item-save"),(function(a){var i,o,s;a.preventDefault(),i=$("#"+n("form")),o=function(a){var i={};return i[e.fieldId]=$(a).find("#"+n(e.fieldId)).val(),$.each(e.fields,(function(e,o){o.type!=t.IMAGE&&(i[o.name]=$(a).find("#"+n(o.name)).val())})),i}(i),s=o[e.fieldId]?o[e.fieldId]:e.databaseRef.push().key,o.id=s,delete o[e.fieldId],e.fields.forEach((function(a){if(a.type==t.IMAGE){var l=$(i).find("#"+n(a.name));if(""!=l.val()){var r=l[0].files[0],d="/"+function(e){return e.email}(o)+"."+r.name.split(".").pop();!function(a,t,n){if(a){var i=e.storageRef.child(t).put(a);i.on("state_changed",(function(e){}),(function(e){}),(function(){n(i.snapshot.downloadURL)}))}}(r,d,(function(t){o[a.name]=t,e.databaseRef.child(s).set(o)}))}else o[a.name]=e.data[s]?e.data[s][a.name]:""}if(a.type==t.RADIO&&a.options.values.forEach((function(t){1==$(i).find("#radio-"+t.value+"-"+e.model).prop("checked")&&(o[a.name]=t.value)})),a.type==t.SELECT){var c=$(i).find("#"+n(a.name));null==c.val()?o[a.name]=[]:o[a.name]=c.val()}})),e.databaseRef.child(s).update(o,(function(e){e&&alert("Data could not be saved."+e)})),$("#"+n("modal-form")).modal("close")})).on("click",".modal-close",(function(a){a.preventDefault(),$.each(e.fields,(function(a,n){switch(n.type){case t.RADIO:n.options.values.forEach((function(a){$("#radio-"+a.value+"-"+e.model).attr("checked",!1),$("#radio-"+a.value+"-"+e.model).prop("checked",!1)}))}})),$("#"+n("modal-form")).modal("close")})),e.databaseRef.orderByChild(e.databaseOrder).on("child_added",(function(a){var o=i(a);e.data[a.key]=o,function(a,i){var o="<tr><td class='edit'>&nbsp;<a href='#' class='"+n("item-edit")+"'><i class='material-icons'>edit</i></a> &nbsp; &nbsp;<a href='#' class='"+n("item-remove")+"'><i class='material-icons'>delete</i></a>&nbsp;</td>";o+="<td class='"+e.fieldId+"' style='display: none;'>"+a+"</td>",$.each(e.fields,(function(e,a){switch(a.type){case t.IMAGE:case t.IMAGE_URL:var n=i[a.name]?i[a.name]:"assets/imgs/person-placeholder.jpg";o+="<td class='"+a.name+"'><img src='"+n+"' class='circle' width='"+a.options.size+"px' height='"+a.options.size+"px' /></td>";break;case t.COLOR:var s="#000000";i[a.name]&&(s=i[a.name]),o+="<td class='"+a.name+" mdl-data-table__cell--non-numeric' style='color: white; background-color: "+s+"'>"+s+"</td>";break;case t.SELECT:var l=i[a.name],r=a.name;if(1==a.options.replace&&""!=l&&null!=l)if(""!=a.options.multiple){var d="";$.each(l,(function(e,t){""!=d?d+=", "+a.options.values[t].description:d=a.options.values[t].description})),l=d}else l=a.options.values[l].description;null==l&&(l="",r+=" missing"),o+="<td class='"+r+" mdl-data-table__cell--non-numeric'>"+l+"</td>";break;default:l="";var c=a.name;i[a.name]&&(l=a.options&&a.options.truncate&&i[a.name].length>a.options.truncate?i[a.name].substring(0,a.options.truncate)+"...":i[a.name]),null!=l&&""!=l||(l="",c+=" missing"),o+="<td class='"+c+" mdl-data-table__cell--non-numeric'>"+l+"</td>"}})),o+="</tr>",$("#"+n("table")+" > tbody:last-child").append(o)}(a.key,o)})),e.databaseRef.on("child_changed",(function(a){var n,o,s,l=i(a);e.data[a.key]=l,n=a.key,o=l,s=$("td."+e.fieldId).filter((function(){return $(this).text()==n})).closest("tr"),$.each(e.fields,(function(e,a){switch(a.type){case t.IMAGE:case t.IMAGE_URL:var n=o[a.name];n&&!n.includes("fakepath")&&s.find("td."+a.name+" img").attr("src",n);break;case t.COLOR:s.find("td."+a.name).css({background:o[a.name],color:"white"}),s.find("td."+a.name).text(o[a.name]);break;case t.SELECT:var i=o[a.name];if(1==a.options.replace&&""!=i&&null!=i)if(""!=a.options.multiple){var l="";$.each(i,(function(e,t){""!=l?l+=", "+a.options.values[t].description:l=a.options.values[t].description})),i=l}else i=a.options.values[i].description;null==i||""==i?(s.find("td."+a.name).addClass("missing"),i=""):1==s.find("td."+a.name).hasClass("missing")&&s.find("td."+a.name).removeClass("missing"),s.find("td."+a.name).text(i);break;default:null==(i=a.options&&a.options.truncate?o[a.name].substring(0,a.options.truncate)+"...":o[a.name])||""==i?(s.find("td."+a.name).addClass("missing"),i=""):1==s.find("td."+a.name).hasClass("missing")&&s.find("td."+a.name).removeClass("missing"),s.find("td."+a.name).text(i)}}))})),e.databaseRef.on("child_removed",(function(a){var t,n;delete e.data[a.key],t=a.key,(n=$("td."+e.fieldId).filter((function(){return $(this).text()==t})).closest("tr")).css("background-color","#FF3700"),n.fadeOut(400,(function(){n.remove()}))}))}}});